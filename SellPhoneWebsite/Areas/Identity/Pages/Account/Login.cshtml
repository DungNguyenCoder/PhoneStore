@page
@model LoginModel
@{
    ViewData["Title"] = "Log in";
}

<section class="login_box_area section_gap">
    <div class="container">
        <div class="row">

            <!-- Left Image -->
            <div class="col-lg-6">
                <div class="login_box_img">
                    <img class="img-fluid" src="~/assets/img/login.jpg" alt="">
                    <div class="hover">
                        <h4>New to our website?</h4>
                        <p>Create an account to enjoy shopping experience.</p>
                        <a class="primary-btn"
                           asp-page="./Register"
                           asp-route-returnUrl="@Model.ReturnUrl">
                            Create an Account
                        </a>
                    </div>
                </div>
            </div>

            <!-- Right Form -->
            <div class="col-lg-6">
                <div class="login_form_inner">
                    <h3>Log in to enter</h3>

                    <form method="post" class="row login_form">

                        <!-- Validation summary -->
                        <div asp-validation-summary="ModelOnly"
                             class="text-danger mb-3"></div>

                        <!-- Email -->
                        <div class="col-md-12 form-group">
                            <input asp-for="Input.Email"
                                   class="form-control"
                                   autocomplete="username"
                                   placeholder="Email" />
                            <span asp-validation-for="Input.Email"
                                  class="text-danger"></span>
                        </div>

                        <!-- Password -->
                        <div class="col-md-12 form-group">
                            <input asp-for="Input.Password"
                                   type="password"
                                   class="form-control"
                                   autocomplete="current-password"
                                   placeholder="Password" />
                            <span asp-validation-for="Input.Password"
                                  class="text-danger"></span>
                        </div>

                        <!-- Remember me -->
                        <div class="col-md-12 form-group">
                            <div class="creat_account">
                                <input asp-for="Input.RememberMe"
                                       class="form-check-input" />
                                <label asp-for="Input.RememberMe">
                                    @Html.DisplayNameFor(m => m.Input.RememberMe)
                                </label>
                            </div>
                        </div>

                        <!-- Submit -->
                        <div class="col-md-12 form-group">
                            <button type="submit"
                                    class="primary-btn w-100">
                                Log In
                            </button>

                            <a asp-page="./ForgotPassword"
                               class="d-block mt-2">
                                Forgot Password?
                            </a>
                        </div>

                        <!-- ReturnUrl hidden -->
                        <input type="hidden"
                               asp-for="ReturnUrl" />

                    </form>

                    <!-- External Login -->
                    @if ((Model.ExternalLogins?.Count ?? 0) > 0)
                    {
                        <hr />
                        <h5 class="text-center mt-3">
                            Or login with
                        </h5>

                        <form asp-page="./ExternalLogin"
                              asp-route-returnUrl="@Model.ReturnUrl"
                              method="post"
                              class="text-center">

                            @foreach (var provider in Model.ExternalLogins!)
                            {
                                <button type="submit"
                                        class="btn btn-outline-primary m-1"
                                        name="provider"
                                        value="@provider.Name">
                                    @provider.DisplayName
                                </button>
                            }
                        </form>
                    }

                </div>
            </div>

        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
