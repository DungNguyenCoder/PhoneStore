@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<section class="login_box_area section_gap">
    <div class="container">
        <div class="row">

            <!-- Left Image -->
            <div class="col-lg-6">
                <div class="login_box_img">
                    <img class="img-fluid" src="~/assets/img/login.jpg" alt="">
                    <div class="hover">
                        <h4>Already have an account?</h4>
                        <p>Log in to continue shopping with us.</p>
                        <a class="primary-btn"
                           asp-page="./Login"
                           asp-route-returnUrl="@Model.ReturnUrl">
                            Log In
                        </a>
                    </div>
                </div>
            </div>

            <!-- Right Form -->
            <div class="col-lg-6">
                <div class="login_form_inner">
                    <h3>Create a new account</h3>

                    <form id="registerForm"
                          asp-route-returnUrl="@Model.ReturnUrl"
                          method="post"
                          class="row login_form">

                        <!-- Validation summary -->
                        <div asp-validation-summary="ModelOnly"
                             class="text-danger mb-3"></div>

                        <!-- Email -->
                        <div class="col-md-12 form-group">
                            <input asp-for="Input.Email"
                                   class="form-control"
                                   autocomplete="username"
                                   aria-required="true"
                                   placeholder="Email" />
                            <span asp-validation-for="Input.Email"
                                  class="text-danger"></span>
                        </div>

                        <!-- Password -->
                        <div class="col-md-12 form-group">
                            <input asp-for="Input.Password"
                                   type="password"
                                   class="form-control"
                                   autocomplete="new-password"
                                   aria-required="true"
                                   placeholder="Password" />
                            <span asp-validation-for="Input.Password"
                                  class="text-danger"></span>
                        </div>

                        <!-- Confirm Password -->
                        <div class="col-md-12 form-group">
                            <input asp-for="Input.ConfirmPassword"
                                   type="password"
                                   class="form-control"
                                   autocomplete="new-password"
                                   aria-required="true"
                                   placeholder="Confirm Password" />
                            <span asp-validation-for="Input.ConfirmPassword"
                                  class="text-danger"></span>
                        </div>

                        <!-- Submit -->
                        <div class="col-md-12 form-group">
                            <button id="registerSubmit"
                                    type="submit"
                                    class="primary-btn w-100">
                                Create Account
                            </button>
                        </div>

                        <!-- ReturnUrl hidden -->
                        <input type="hidden"
                               asp-for="ReturnUrl" />
                    </form>

                    <!-- External Register -->
                    @if ((Model.ExternalLogins?.Count ?? 0) > 0)
                    {
                        <hr />
                        <h5 class="text-center mt-3">
                            Or register with
                        </h5>

                        <form id="external-account"
                              asp-page="./ExternalLogin"
                              asp-route-returnUrl="@Model.ReturnUrl"
                              method="post"
                              class="text-center">

                            @foreach (var provider in Model.ExternalLogins!)
                            {
                                <button type="submit"
                                        class="btn btn-outline-primary m-1"
                                        name="provider"
                                        value="@provider.Name"
                                        title="Register using your @provider.DisplayName account">
                                    @provider.DisplayName
                                </button>
                            }
                        </form>
                    }
                </div>
            </div>

        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
